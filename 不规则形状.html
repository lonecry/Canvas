<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<title>canvas-图片填充</title>
	<link rel="shortcut icon" sizes="32x32" href="http://simpleqq.com/imgs/sw.jpg">
	<meta charset="utf-8"/>
	<link rel="stylesheet" href="./css/style.css">
	<script src="./js/jquery-1.4.2.min.js"></script>
	<!--[if IE]>
	<script src="js/html5.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/excanvas.js"></script>
	<![endif]-->
	<script>
		init();
		$(window).resize(init);
		function init(){
			var w = $(window).width();
			var h = $(window).height();
			$("html").css({fontSize:w/750*100 + "px"});
		}
	</script>
	<style>
		#canvas {
			cursor   : pointer;
			position : absolute;
			left     : 400px;
			top      : 100px;
			border   : none;
		}
		#canvas2 {
			cursor   : pointer;
			position : absolute;
			left     : 520px;
			top      : 100px;
		}
		.canvas {
			border : none;
		}
	</style>
</head>
<body>
<canvas id="canvas" class="canvas" width="132" height="132"></canvas>
<canvas id="canvas2" class="canvas" width="132" height="132"></canvas>
<img class="loading" src="./images/loading.gif" alt="">
<script>
	$(function(){

		var canvas = document.getElementById("canvas");
		if(typeof window.G_vmlCanvasManager != "undefined"){
			canvas = window.G_vmlCanvasManager.initElement(canvas);
			context = canvas.getContext("2d");
		}else{
			context = canvas.getContext("2d");
		}
		context.beginPath()
		context.moveTo(29,5);
		context.lineTo(126,5)
		context.lineTo(97,122)
		context.lineTo(5,122);
		context.closePath()
		var color = context.createLinearGradient(0,0,0,160)
		color.addColorStop(0.0,"#f2c346")
		color.addColorStop(1.0,"#e5787f")

		var img = new Image();
		img.src = './images/zjl.jpg'
		img.onload = function(){
			var pattern = context.createPattern(img,'no-repeat')
			context.fillStyle = pattern;
			context.fill()
		}
		context.strokeStyle = color
		context.lineWidth = '5'
		context.lineJoin = 'round'
		context.stroke();
		var canvas = document.getElementById('canvas');
		var context = canvas.getContext('2d');
		context.beginPath()
		context.moveTo(29,5);
		context.lineTo(126,5)
		context.lineTo(97,122)
		context.lineTo(5,122);
		context.closePath()
		var color = context.createLinearGradient(0,0,0,160)
		color.addColorStop(0.0,"#f2c346")
		color.addColorStop(1.0,"#e5787f")

		var img = new Image();
		img.src = './images/zjl.jpg'
		img.onload = function(){
			var pattern = context.createPattern(img,'no-repeat')
			context.fillStyle = pattern;
			context.fill()
		}
		context.strokeStyle = color
		context.lineWidth = '5'
		context.lineJoin = 'round'
		context.stroke()

	});
</script>
</body>
</html>